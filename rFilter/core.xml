<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\FrameXML\UI.xsd">
    
  <Script file="core.lua"/>  
  
  
  <!--------------------------------------- -->
  <!-- rf_TBuffButtonTemplate               -->
  <!--------------------------------------- -->
  
  <Button name="rf_TBuffButtonTemplate" virtual="true">
    <Size>
      <AbsDimension x="30" y="30"/>
    </Size>
    <Layers>
      <Layer level="BACKGROUND">
        <Texture name="$parentIcon"/>
        <FontString name="$parentCount" inherits="NumberFontNormalSmall">
          <Anchors>
            <Anchor point="BOTTOMRIGHT">
              <Offset>
                <AbsDimension x="-1" y="0"/>
              </Offset>
            </Anchor>
          </Anchors>
        </FontString>
        <FontString name="$parentCount2" inherits="NumberFontNormalSmall">
          <Color r="1.0" g="0.82" b="0"/>
          <Anchors>
            <Anchor point="TOPRIGHT">
              <Offset>
                <AbsDimension x="-1" y="-1"/>
              </Offset>
            </Anchor>
          </Anchors>
        </FontString>
        <FontString name="$parentDuration" inherits="GameFontNormalSmall">
          <Size>
            <AbsDimension x="40" y="10"/>
          </Size>
          <Anchors>
            <Anchor point="TOP" relativePoint="BOTTOM">
              <Offset>
                <AbsDimension x="0" y="-2"/>
              </Offset>
            </Anchor>
          </Anchors>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <Cooldown name="$parentCooldown" inherits="CooldownFrameTemplate" reverse="true" hidden="true">
        <Anchors>
          <Anchor point="CENTER">
            <Offset>
              <AbsDimension x="0" y="-1"/>
            </Offset>
          </Anchor>
        </Anchors>
      </Cooldown>
    </Frames>
    <Scripts>
      <OnLoad>
        rf_Button_OnLoad();
      </OnLoad>
      <OnUpdate>
        rf_TBuffButton_OnUpdate(arg1);
      </OnUpdate>
      <OnEnter>
        if (rf_Config[rf_Player].tooltips) then
          GameTooltip:SetOwner(this, "ANCHOR_RIGHT");
          GameTooltip:SetUnitBuff(this.target, this.index);
        end
      </OnEnter>
      <OnLeave>
        GameTooltip:Hide();
      </OnLeave>
      <OnMouseDown>
        rf_OnMouseDown(arg1);
      </OnMouseDown>
      <OnMouseUp>
        rf_OnMouseUp(arg1);
      </OnMouseUp>
      <OnHide>
        this:GetParent():StopMovingOrSizing();
      </OnHide>
    </Scripts>
  </Button>
  
  
  <!--------------------------------------- -->
  <!-- rf_TDebuffButtonTemplate             -->
  <!--------------------------------------- -->

  <Button name="rf_TDebuffButtonTemplate" inherits="rf_TBuffButtonTemplate" virtual="true">
    <Scripts>
      <OnUpdate>
        rf_TDebuffButton_OnUpdate(arg1);
      </OnUpdate>
      <OnEnter>
        if (rf_Config[rf_Player].tooltips) then
          GameTooltip:SetOwner(this, "ANCHOR_RIGHT");
          GameTooltip:SetUnitDebuff(this.target, this.index);
        end
      </OnEnter>
    </Scripts>
  </Button>
  
  
  <!--------------------------------------- -->
  <!-- rf_PBuffButtonTemplate               -->
  <!--------------------------------------- -->

  <Button name="rf_PBuffButtonTemplate" inherits="rf_TBuffButtonTemplate" virtual="true">
    <Scripts>
      <OnUpdate>
        rf_PBuffButton_OnUpdate(arg1);
      </OnUpdate>
      <OnEnter>
        if (rf_Config[rf_Player].tooltips) then
          GameTooltip:SetOwner(this, "ANCHOR_RIGHT");
          GameTooltip:SetPlayerBuff(this.index);
        end
      </OnEnter>
    </Scripts>
  </Button>


  <!--------------------------------------- -->
  <!-- rf_PDebuffButtonTemplate             -->
  <!--------------------------------------- -->

  <Button name="rf_PDebuffButtonTemplate" inherits="rf_TBuffButtonTemplate" virtual="true">
    <Scripts>
      <OnUpdate>
        rf_PDebuffButton_OnUpdate(arg1);
      </OnUpdate>
      <OnEnter>
        if (rf_Config[rf_Player].tooltips) then
          GameTooltip:SetOwner(this, "ANCHOR_RIGHT");
          GameTooltip:SetPlayerBuff(this.index);
        end
      </OnEnter>
    </Scripts>
  </Button>
  
  
  <!--------------------------------------- -->
  <!-- rf_FrameTemplate                     -->
  <!--------------------------------------- -->
  
  <Frame name="rf_FrameTemplate" parent="dfFrame" frameStrata="LOW" toplevel="false" movable="true" virtual="true">
    <Size>
      <AbsDimension x="30" y="30"/>
    </Size>
    <Layers>
      <Layer level="OVERLAY">
        <FontString name="$parentCount" inherits="GameFontNormal" hidden="true">
          <Size>
            <AbsDimension x="30" y="12"/>
          </Size>
          <Anchors>
            <Anchor point="RIGHT" relativePoint="LEFT"/>
          </Anchors>
        </FontString>
      </Layer>
    </Layers>
  </Frame>
  
  
  <!--------------------------------------- -->
  <!-- rf_BackdropTemplate                  -->
  <!--------------------------------------- -->
  
  <Button name="rf_BackdropTemplate" hidden="true" virtual="true">
    <Size>
      <AbsDimension x="40" y="40"/>
    </Size>
    <Anchors>
      <Anchor point="CENTER"/>
    </Anchors>
    <Backdrop bgFile="Interface\TutorialFrame\TutorialFrameBackground" edgeFile="Interface\Tooltips\UI-Tooltip-Border" tile="true">
      <EdgeSize>
        <AbsValue val="16"/>
      </EdgeSize>
      <BackgroundInsets>
        <AbsInset left="5" right="5" top="5" bottom="5"/>
      </BackgroundInsets>
    </Backdrop>
    <Scripts>
      <OnEnter>
        GameTooltip:SetOwner(this, "ANCHOR_RIGHT");
        GameTooltip:SetText(DFILTER_BACKDROP_TOOLTIP);
      </OnEnter>
      <OnLeave>
        GameTooltip:Hide();
      </OnLeave>
      <OnMouseDown>
        rf_OnMouseDown(arg1);
      </OnMouseDown>
      <OnMouseUp>
        rf_OnMouseUp(arg1);
      </OnMouseUp>
      <OnHide>
        this:GetParent():StopMovingOrSizing();
      </OnHide>
    </Scripts>
  </Button>
  
  
  <!--------------------------------------- -->
  <!-- rf_NameTemplate                      -->
  <!--------------------------------------- -->  
  
  <FontString name="rf_NameTemplate" inherits="GameFontNormal" virtual="true">
    <Size>
      <AbsDimension x="100" y="12"/>
    </Size>
    <Anchors>
      <Anchor point="TOP">
        <Offset>
          <AbsDimension x="0" y="15"/>
        </Offset>
      </Anchor>
    </Anchors>
  </FontString>
  
  
  <!--------------------------------------- -->
  <!-- rfFrame                              -->
  <!--------------------------------------- -->  
  
  <Frame name="rfFrame" parent="UIParent">
    <Scripts>
      <OnLoad>
        rf_OnLoad();
      </OnLoad>
      <OnEvent>
        rf_OnEvent(event);
      </OnEvent>
    </Scripts>
  </Frame>
  
  
  <!--------------------------------------- -->
  <!-- rf_TDebuffFrame                      -->
  <!--------------------------------------- -->  
  
  <Frame name="rf_TDebuffFrame" inherits="rf_FrameTemplate">
    <Anchors>
      <Anchor point="CENTER" relativeTo="UIParent">
        <Offset>
          <AbsDimension x="-40" y="0"/>
        </Offset>
      </Anchor>
    </Anchors>
    <Frames>
      <Button name="$parentBackdrop" inherits="rf_BackdropTemplate">
        <Layers>
          <Layer level="ARTWORK">
            <FontString text="Target Debuffs" inherits="rf_NameTemplate"/>
          </Layer>
        </Layers>
      </Button>
    </Frames>
  </Frame>
  
  
  <!--------------------------------------- -->
  <!-- rf_TBuffFrame                        -->
  <!--------------------------------------- -->  
  
  <Frame name="rf_TBuffFrame" inherits="rf_FrameTemplate">
    <Anchors>
      <Anchor point="LEFT" relativeTo="rf_TDebuffFrame" relativePoint="RIGHT">
        <Offset>
          <AbsDimension x="70" y="0"/>
        </Offset>
      </Anchor>
    </Anchors>
    <Frames>
      <Button name="$parentBackdrop" inherits="rf_BackdropTemplate">
        <Layers>
          <Layer level="ARTWORK">
            <FontString text="Target Buffs" inherits="rf_NameTemplate"/>
          </Layer>
        </Layers>
      </Button>
    </Frames>
  </Frame>
  
  
  <!--------------------------------------- -->
  <!-- rf_PDebuffFrame                      -->
  <!--------------------------------------- -->  
  
  <Frame name="rf_PDebuffFrame" inherits="rf_FrameTemplate">
    <Anchors>
      <Anchor point="TOP" relativeTo="rf_TDebuffFrame" relativePoint="BOTTOM">
        <Offset>
          <AbsDimension x="0" y="-30"/>
        </Offset>
      </Anchor>
    </Anchors>
    <Frames>
      <Button name="$parentBackdrop" inherits="rf_BackdropTemplate">
        <Layers>
          <Layer level="ARTWORK">
            <FontString text="Player Debuffs" inherits="rf_NameTemplate"/>
          </Layer>
        </Layers>
      </Button>
    </Frames>
  </Frame>
  
  
  <!--------------------------------------- -->
  <!-- rf_PBuffFrame                        -->
  <!--------------------------------------- -->  
  
  <Frame name="rf_PBuffFrame" inherits="rf_FrameTemplate">
    <Anchors>
      <Anchor point="LEFT" relativeTo="rf_PDebuffFrame" relativePoint="RIGHT">
        <Offset>
          <AbsDimension x="70" y="0"/>
        </Offset>
      </Anchor>
    </Anchors>
    <Frames>
      <Button name="$parentBackdrop" inherits="rf_BackdropTemplate">
        <Layers>
          <Layer level="ARTWORK">
            <FontString text="Player Buffs" inherits="rf_NameTemplate"/>
          </Layer>
        </Layers>
      </Button>
    </Frames>
  </Frame>

</Ui>