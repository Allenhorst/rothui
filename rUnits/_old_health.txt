  local updateHealth = function(self, object, unit, min, max)
  	local c = max - min
  	local d = floor(min/max*100)
  
  	if(UnitIsDead(unit)) then
  		self:SetValue(0)
  		self.value:SetText"Dead"
  	elseif(UnitIsGhost(unit)) then
  		self:SetValue(0)
  		self.value:SetText"Ghost"
  	elseif(not UnitIsConnected(unit)) then
  		self.value:SetText"Offline"
  	elseif(UnitIsEnemy("player",unit)) then
  		if(c > 0) then
  			self.value:SetText(max-c.."|cffffffff%|r")
  		else
  			self.value:SetText(max.."|cffffffff%|r")
  		end
  	elseif(unit == "pet")then
  		if(c > 0) then
  			self.value:SetText(max-c.." |cffffffff/ |r"..max)
  		else
  			self.hpp:SetText(max)
  		end
  	elseif(UnitIsPlayer(unit)) then
  	  self.value:SetText(min.." - "..d.."%")
  	else
          self.value:SetText(d.."%")
          --[[
          if(c > 0) then
              self.value:SetText("-"..c)
          else
              self.value:SetText(max)
          end    
          --]]
  	end
  
    --[[
  	if(UnitIsTapped(unit) and not UnitIsTappedByPlayer(unit) or not UnitIsConnected(unit)) then
  		object.Name:SetTextColor(.5, .5, .5)
  		object.Power:SetStatusBarColor(.5, .5, .5)
  	else
  		object:UpdateName(unit)
  	end
  	
  	if(UnitIsTapped(unit) and not UnitIsTappedByPlayer(unit) or not UnitIsConnected(unit)) then
  		self:SetStatusBarColor(.6, .6, .6)
  	elseif(unit == "pet") then
          local happiness = pUF.colors.happiness
  		local color = happiness[GetPetHappiness()]
          if(color) then self:SetStatusBarColor(color.r, color.g, color.b) end
  	else
  		local color = UnitIsPlayer(unit) and RAID_CLASS_COLORS[select(2, UnitClass(unit))] or UnitReactionColor[UnitReaction(unit, "player")]
  		if(color) then self:SetStatusBarColor(color.r, color.g, color.b) end
  	end
  	
  	]]--
  
  	object.Name:SetTextColor(1, 1, 1)
  	self:SetStatusBarColor(0.14, .14, 0.14)
  	
  	if(UnitIsTapped(unit) and not UnitIsTappedByPlayer(unit) or not UnitIsConnected(unit)) then
  		--object.Name:SetTextColor(.5, .5, .5)
  		--object.Power:SetStatusBarColor(.5, .5, .5)
  		self:SetStatusBarColor(.6, .6, .6)
  	elseif(unit == "pet") then
      local happiness = pUF.colors.happiness
  		local color = happiness[GetPetHappiness()]
      --if(color) then self:SetStatusBarColor(color.r, color.g, color.b) end
      if(color) then object.Name:SetTextColor(color.r, color.g, color.b) end
  	else
  		local color = UnitIsPlayer(unit) and RAID_CLASS_COLORS[select(2, UnitClass(unit))] or UnitReactionColor[UnitReaction(unit, "player")]
  		--if(color) then self:SetStatusBarColor(color.r, color.g, color.b) end
  		if(color) then object.Name:SetTextColor(color.r, color.g, color.b) end
  	end
  
  	object:UpdateName(unit)
  	
  end